{% extends "base.html" %}
{% block title %}ë™ë„¤ë§›ì§‘ - ë™ë„¤ë§í¬{% endblock %}

{% block extra_head %}
<style>
  .list-container {
    padding: 22px;
  }

  .list-title {
    font-size: 22px;
    font-weight: 700;
    margin-bottom: 6px;
    color: var(--green-dark);
  }

  .list-sub {
    font-size: 13px;
    color: #666;
    margin-bottom: 20px;
  }

  .add-btn {
    display: inline-block;
    padding: 8px 14px;
    border-radius: 12px;
    background: var(--green);
    color: #fff;
    font-size: 14px;
    margin-bottom: 18px;
  }

  .add-btn:hover {
    background: var(--green-dark);
  }

  .card-list {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: 20px;
  }

  .item-card {
    background: #fff;
    border-radius: 16px;
    box-shadow: 0 4px 14px rgba(0,0,0,0.07);
    overflow: hidden;
    transition: 0.18s ease;
    cursor: pointer;
    border: 1px solid #eee;
  }
  .item-card:hover { transform: translateY(-4px); }

  .item-img {
    width: 100%;
    height: 150px;
    object-fit: cover;
  }

  .item-body { padding: 14px 16px; }
  .item-name { font-size: 17px; font-weight: 700; margin-bottom: 4px; }
  .item-desc { font-size: 13px; color: #777; height: 34px; overflow: hidden; }
  .item-badge { display: inline-block; font-size: 11px; padding: 3px 8px; background: #F0FFF4; border-radius: 999px; }
</style>
{% endblock %}

{% block content %}
<div class="list-container">

  <div class="list-title">{{ dong }} ë§›ì§‘</div>
  <div class="list-sub">ìš°ë¦¬ ë™ë„¤ ì£¼ë¯¼ë“¤ì´ ë“±ë¡í•œ ìˆ¨ì€ ë§›ì§‘ì´ì—ìš”.</div>

  {% if user %}
    <a class="add-btn" href="/business/register?kind=food">
      + {{ dong }} ë§›ì§‘ ë“±ë¡í•˜ê¸°
    </a>
  {% else %}
    <a class="add-btn" href="/auth/login">
      ğŸ”’ ë¡œê·¸ì¸ í›„ ë§›ì§‘ ë“±ë¡í•˜ê¸°
    </a>
  {% endif %}

  <div class="card-list">
    {% for item in items %}
    <a href="/business/{{ item.id }}">
      <div class="item-card">
        <img src="{{ item.image_url or '/static/no_image.png' }}" class="item-img" />
        <div class="item-body">
          <div class="item-name">{{ item.name }}</div>
          <div class="item-desc">{{ item.description }}</div>
          <div class="item-badge">{{ item.category }}</div>
        </div>
      </div>
    </a>
    {% endfor %}
  </div>
</div>
{% endblock %}
